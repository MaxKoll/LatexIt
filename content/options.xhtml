<?xml version="1.0"?>
<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
<?xml-stylesheet href="chrome://messenger/skin/preferences/preferences.css" type="text/css"?>
<!DOCTYPE dialog>
<dialog id="tblatex-prefs"
  title="TBLaTeX options"
  buttons="accept"
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  xmlns:html="http://www.w3.org/1999/xhtml"
>
  <script type="application/javascript" src="chrome://tblatex/content/options.js" />

   <popupset>
    <tooltip id="dpi_factor_tooltip">
      Higher image resolution factor leads to sharper images. Set this to the lowest value that still produces pleasing results. The default value is 2.0.
      <separator class="thin" />
      <separator class="thin" />
      Please be aware that the file size of the inserted images – and therefore the file size of your email – will also increase with higher image resolutions.
      <separator class="thin" />
      <separator class="thin" />
      As a reference, when set to 1.0, and if the display is not scaled, the image resolution matches the native screen resolution exactly. If the display is scaled, which is usually the case for high-resolution screens, the specified font size is smaller than the displayed font size (in relation to the native screen resolution), which leads to blurry images.
    </tooltip>
  </popupset>

  <groupbox>
    <label value="Executables:" style="header; font-weight: bold;" />
    <hbox align="baseline">
      <label control="latex_textbox" value="Path to latex executable:" />
      <html:input preference="tblatex.latex_path" id="latex_textbox" />
      <button label="Browse..." oncommand="pick_file('latex_textbox', 'latex');" />
    </hbox>
    <hbox align="baseline">
      <label control="dvipng_textbox" value="Path to dvipng executable:" />
      <html:input preference="tblatex.dvipng_path" id="dvipng_textbox" />
      <button label="Browse..." oncommand="pick_file('dvipng_textbox', 'dvipng');" />
    </hbox>
    <label style="text-decoration: underline; color: navy; cursor: pointer" value="Open the autodetection dialog"
      onclick="open_autodetect();" />
  </groupbox>
  <separator />
  <groupbox>
    <label value="Configurations:" style="header; font-weight: bold;" />
    <groupbox>
      <label value="Appearance:" style="header;" />
      <hbox>
        <checkbox preference="tblatex.autodpi" id="autodpi_checkbox"
          label="Adapt image resolution automatically to font size" />
      </hbox>
      <hbox align="baseline">
        <label control="fontpx_textbox" value="Font size of image, if not automatically set:" />
        <html:input preference="tblatex.font_px" id="fontpx_textbox"
          type="number" min="1" step="1" style="width: 6em" />
        <label control="fontpx_textbox" value="px" />
      </hbox>
      <hbox>
        <hbox align="baseline" tooltip="dpi_factor_tooltip">
          <label control="dpi_factor_textbox" value="Image resolution factor:" />
          <html:input preference="tblatex.dpi_factor" id="dpi_factor_textbox"
            type="number" min="1" max="8" step="0.5" style="width: 6em" />
        </hbox>
        <spacer flex="1" />
      </hbox>
    </groupbox>
    <groupbox>
      <label value="Debugging:" style="header;" />
      <hbox>
        <checkbox preference="tblatex.log" id="log_checkbox" oncommand="on_log();"
          label="Generate a log report" />
      </hbox>
      <hbox>
        <checkbox preference="tblatex.debug" id="debug_checkbox"
          label="Generate debug info" />
      </hbox>
      <hbox>
        <checkbox preference="tblatex.keeptempfiles" id="keeptempfiles_checkbox"
          label="Keep generated files" />
      </hbox>
    </groupbox>
  </groupbox>
  <separator />
  <groupbox>
    <label value="Template:" style="header; font-weight: bold;" />
    <hbox>
      <label control="template_textbox" value="Template to be used to generate LaTeX parts."/>
      <spacer flex="1" />
      <label style="text-decoration: underline; color: navy; cursor: pointer" value="Help ?"
        onclick="window.openDialog('chrome://tblatex/content/help.html', '',
          'all,chrome,dialog=no,status,toolbar,width=640,height=480');" />
    </hbox>
    <description>Use __REPLACE_ME__ as a placeholder for your LaTeX expression.</description>
    <html:textarea preference="tblatex.template" id="template_textbox" multiline="true"
      rows="12" />
  </groupbox>

  <script
     src="chrome://global/content/preferencesBindings.js"
     type="application/javascript"/>

  <script
    src="chrome://tblatex/content/preferences.js"
     type="application/javascript"/>

</dialog>
